## 14ì¥ ì „ì—­ ë³€ìˆ˜ì˜ ë¬¸ì œì 

### 14-1-1. ì§€ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°

ë³€ìˆ˜ëŠ” ìì‹ ì´ ì„ ì–¸ëœ ìœ„ì¹˜ì—ì„œ ìƒì„±ë˜ê³  ì†Œë©¸í•œë‹¤.
ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒëª… ì£¼ê¸°ì™€ ê°™ë‹¤.

í•˜ì§€ë§Œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸ëœ ì§€ì—­ ë³€ìˆ˜ëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ ìƒì„±ë˜ê³  í•¨ìˆ˜ê°€ ì¢…ë£Œí•˜ë©´ ì†Œë©¸í•œë‹¤.

```javascript
function foo() {
  var x = 'local';
  console.log(x); // local
  return x;
}

foo();
console.log(x); // ReferenceError: x is not defined
```

ë³€ìˆ˜ ì„ ì–¸ì€ ì„ ì–¸ë¬¸ì´ ì–´ë””ì— ìˆë“  ìƒê´€ì—†ì´ ëŸ°íƒ€ì„ (ì†ŒìŠ¤ì½”ë“œë¥¼ í•œ ì¤„ì”© ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” íƒ€ì„) ì´ì „ì¸ ```"ì†ŒìŠ¤ì½”ë“œì˜ í‰ê°€ ê³¼ì •"``` ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ì˜í•´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ëœë‹¤.

ì´ëŠ” ë³€ìˆ˜ ì„ ì–¸ì´ ìŠ¤ì½”í”„ì˜ ì„ ë‘ë¡œ ëŒì–´ ì˜¬ë ¤ì§„ ê²ƒì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ê³ ìœ ì˜ íŠ¹ì§•ì´ë©°, ì´ë¥¼ ```í˜¸ì´ìŠ¤íŒ…(Hoisting)```ì´ë¼ ë¶€ë¥¸ë‹¤.
ê·¸ëŸ°ë° ì´ëŠ” ì „ì—­ ë³€ìˆ˜ì— í•œì •ë˜ëŠ” ë§ì´ë‹¤.

í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ëŠ” ```â­ï¸â­ï¸â­ï¸ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œâ­ï¸â­ï¸â­ï¸```ë¥¼ ê±°ì¹œë‹¤.

```text
1ï¸âƒ£ ì¼ë‹¨ í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤.
2ï¸âƒ£ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ì˜í•´ ì†ŒìŠ¤ ì½”ë“œì˜ í‰ê°€ ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ í•¨ìˆ˜ ëª¸ì²´ ë‚´ë¶€ ê¸°ì¤€ìœ¼ë¡œ ë³€ìˆ˜ x ì˜ ì„ ì–¸ë¬¸ì´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ì–´ x ë³€ìˆ˜ê°€ ì„ ì–¸ ë° undefined ë¡œ ì´ˆê¸°í™” ëœë‹¤. (ì´ˆì¤‘ìš”)
3ï¸âƒ£ ì´í›„ ìˆœì°¨ì ìœ¼ë¡œ ì½”ë“œê°€ ì‹¤í–‰ë˜ê³ , ë³€ìˆ˜ í• ë‹¹ë¬¸ì´ ì‹¤í–‰ë˜ë©´ x ë³€ìˆ˜ì— ê°’ 'local' ì´ í• ë‹¹ëœë‹¤.
4ï¸âƒ£ ì´í›„ í•¨ìˆ˜ê°€ ì¢…ë£Œí•˜ë©´ x ë³€ìˆ˜ë„ ì†Œë©¸ë˜ì–´ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œëœë‹¤. í•¨ìˆ˜ê°€ ìƒì„±í•œ ìŠ¤ì½”í”„ (ì‹ë³„ìì˜ ìœ íš¨ë²”ìœ„) ë„ ì†Œë©¸í•œë‹¤.
```

ì¦‰, ì§€ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ëŠ” í•¨ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ì™€ ì¼ì¹˜í•œë‹¤.

ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì´ í™•ë³´ëœ ì‹œì ë¶€í„° ë©”ëª¨ë¦¬ ê³µê°„ì´ í•´ì œë˜ì–´ ê°€ìš© ë©”ëª¨ë¦¬ í’€ì— ë°˜í™˜ë˜ëŠ” ì‹œì ê¹Œì§€ë‹¤.

ì•„ë˜ í•¨ìˆ˜ foo ê°€ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ, í•¨ìˆ˜ ë‚´ë¶€ì˜ console.log(x) ëŠ” ì–´ë–¤ ê°’ì´ ì°íê¹Œ?

```javascript
var x = 'global';

function foo() {
  console.log(x);
  var x = 'local';
}

foo();
console.log(x); // global
```

ìœ„ì— ëª…ê¸°í•œ ë„¤ê°€ì§€ ìˆœì„œë¥¼ ê±°ì¹œë‹¤ëŠ” ì ê³¼ ì•„ë˜ ë‚´ìš©ì´ íŒíŠ¸ì´ë‹¤.

```text
ğŸš¨ í˜¸ì´ìŠ¤íŒ…ì€ ìŠ¤ì½”í”„ë¥¼ ë‹¨ìœ„ë¡œ ë™ì‘í•œë‹¤.
1ï¸âƒ£ ì „ì—­ ë³€ìˆ˜ì˜ í˜¸ì´ìŠ¤íŒ…ì€ ì „ì—­ ë³€ìˆ˜ì˜ ì„ ì–¸ì´ ì „ì—­ ìŠ¤ì½”í”„ì˜ ì„ ë‘ë¡œ ëŒì–´ ì˜¬ë ¤ì§„ ê²ƒì²˜ëŸ¼ ë™ì‘í•œë‹¤.
2ï¸âƒ£ ì§€ì—­ ë³€ìˆ˜ì˜ í˜¸ì´ìŠ¤íŒ…ì€ ì§€ì—­ ë³€ìˆ˜ì˜ ì„ ì–¸ì´ ì§€ì—­ ìŠ¤ì½”í”„ì˜ ì„ ë‘ë¡œ ëŒì–´ ì˜¬ë ¤ì§„ ê²ƒì²˜ëŸ¼ ë™ì‘í•œë‹¤.
```

### 14-1-2. ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°

í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ëª¸ì²´ì˜ ë§ˆì§€ë§‰ ë¬¸ ë˜ëŠ” ë°˜í™˜ë¬¸ì´ ì‹¤í–‰ë˜ë©´ ì¢…ë£Œí•œë‹¤. í•˜ì§€ë§Œ ì „ì—­ ì½”ë“œì—ëŠ” ë°˜í™˜ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë§ˆì§€ë§‰ ë¬¸ì´ ì‹¤í–‰ë˜ì–´ ë” ì´ìƒ ì‹¤í–‰í•  ë¬¸ì´ ì—†ì„ ë•Œ ì¢…ë£Œí•œë‹¤.

var í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ëŠ” ì „ì—­ ê°ì²´ì˜ í”„ë¡œí¼í‹°ê°€ ëœë‹¤. ì´ëŠ” ì „ì—­ ë³€ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ê°€ ì „ì—­ ê°ì²´ì˜ ìƒëª…ì£¼ê¸°ì™€ ì¼ì¹˜í•œë‹¤ëŠ” ê²ƒì„ ë§í•œë‹¤.

> ë¸Œë¼ìš°ì € í™˜ê²½ì˜ ì „ì—­ ê°ì²´ â¡ï¸ window

> var í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œ ì „ì—­ ë³€ìˆ˜ëŠ” ì „ì—­ ê°ì²´ window ì˜ í”„ë¡œí¼í‹°ì´ë©° í•´ë‹¹ ì „ì—­ ë³€ìˆ˜ëŠ” ì›¹í˜ì´ì§€ë¥¼ ë‹«ì„ ë•Œê¹Œì§€ ìœ íš¨í•˜ë‹¤.

### 14-2. ì „ì—­ ë³€ìˆ˜ì˜ ë¬¸ì œì 

1. ì•”ë¬µì  ê²°í•© : ëª¨ë“  ì½”ë“œê°€ ì „ì—­ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ë³€ê²½í•  ìˆ˜ ìˆëŠ” ê²ƒì„ í—ˆìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸. ë³€ìˆ˜ì˜ ìœ íš¨ ë²”ìœ„ê°€ í¬ë©´ í´ìˆ˜ë¡ ì½”ë“œì˜ ê°€ë…ì„±ì€ ë‚˜ë¹ ì§€ê³  ì˜ë„ì¹˜ ì•Šê²Œ ìƒíƒœê°€ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ìœ„í—˜ì„±ë„ ë†’ì•„ì§„ë‹¤.

2. ê¸´ ìƒëª… ì£¼ê¸° : ì „ì—­ ë³€ìˆ˜ëŠ” ìƒëª… ì£¼ê¸°ê°€ ê¸¸ë©° ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ë„ ì˜¤ëœ ê¸°ê°„ ì†Œë¹„í•œë‹¤. var í‚¤ì›Œë“œëŠ” ë³€ìˆ˜ì˜ ì¤‘ë³µ ì„ ì–¸ì„ í—ˆìš©í•˜ë¯€ë¡œ ìƒëª…ì£¼ê¸°ê°€ ê¸¸ìˆ˜ë¡ ë³€ìˆ˜ ì´ë¦„ì´ ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ì´ëŠ” ì˜ë„ì¹˜ ì•Šì€ ì¬í• ë‹¹ì´ ì´ë¤„ì§ˆ ìˆ˜ ìˆë‹¤.

3. ìŠ¤ì½”í”„ ì²´ì¸ ìƒì—ì„œ ì¢…ì ì— ì¡´ì¬ : ë³€ìˆ˜ë¥¼ ê²€ìƒ‰í•  ë•Œ ìŠ¤ì½”í”„ìƒì˜ ì§€ì—­ ë³€ìˆ˜ë¥¼ ìš°ì„  ë°”ë¼ë³´ê¸° ë•Œë¬¸ì— ì „ì—­ ë³€ìˆ˜ê°€ ê°€ì¥ ë§ˆì§€ë§‰ì— ê²€ìƒ‰ëœë‹¤. ê³ ë¡œ ì „ì—­ ë³€ìˆ˜ì˜ ê²€ìƒ‰ ì†ë„ê°€ ê°€ì¥ ëŠë¦¬ë‹¤.

4. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì˜¤ì—¼ : íŒŒì¼ì´ ë¶„ë¦¬ë˜ì–´ ìˆì–´ë„ í•˜ë‚˜ì˜ ì „ì—­ ìŠ¤ì½”í”„ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ì´ë¦„ìœ¼ë¡œ ëª…ëª…í•œ ì „ì—­ ë³€ìˆ˜, í•¨ìˆ˜ê°€ ë™ì¼ ìŠ¤ì½”í”„ ë‚´ì— ì¡´ì¬í•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

### 14-3. ì „ì—­ ë³€ìˆ˜ì˜ ì‚¬ìš©ì„ ì–µì œí•˜ëŠ” ë°©ë²•

1ï¸âƒ£ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì‚¬ìš©

> ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë€? ì •ì˜ë˜ìë§ˆì ì¦‰ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜, ëª¨ë“  ì½”ë“œë¥¼ ì¦‰ì‹œ ì‹¤í–‰í•¨ìˆ˜ë¡œ ê°ì‹¸ë©´ ëª¨ë“  ë³€ìˆ˜ëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ê°€ ëœë‹¤.

- í•„ìš”ì—†ëŠ” ì „ì—­ ë³€ìˆ˜ì˜ ìƒì„±ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
- private í•œ ë³€ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì¦‰ì‹œ ì‹¤í–‰í•¨ìˆ˜ëŠ” ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ” ìì²´ì ì¸ ìŠ¤ì½”í”„ë¥¼ ê°€ì§€ê²Œ ëœë‹¤.

2ï¸âƒ£ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´ì˜ ì‚¬ìš©

> ì „ì—­ì— ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì—­í• ì„ ë‹´ë‹¹í•  ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì „ì—­ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë³€ìˆ˜ë¥¼ í”„ë¡œí¼í‹°ë¡œ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```javascript
var MYAPP = {}; // ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´

MYAPP.name = 'Lee';

console.log(MYAPP.name); // Lee
```
- ì¥ì  : ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì„œ ì‹ë³„ì ì¶©ëŒì„ ë°©ì§€í•˜ëŠ” íš¨ê³¼
- ë‹¨ì  : ì–´ì°¨í”¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°ì²´ ìì²´ê°€ ì „ì—­ ë³€ìˆ˜ì— í• ë‹¹ë˜ë¯€ë¡œ ê·¸ë‹¤ì§€ ìœ ìš©í•´ ë³´ì´ì§€ëŠ” ì•ŠìŒ


3ï¸âƒ£ ëª¨ë“ˆ íŒ¨í„´ : í´ë¡œì €ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘, í´ë˜ìŠ¤ë¥¼ ëª¨ë°©í•´ì„œ ê´€ë ¨ì´ ìˆëŠ” ë³€ìˆ˜ì™€ í•¨ìˆ˜ë¥¼ ëª¨ì•„ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë¡œ ê°ì‹¸ í•˜ë‚˜ì˜ ëª¨ë“ˆì„ ë§Œë“ ë‹¤.

- ì£¼ìš” íŠ¹ì§• : ì „ì—­ ë³€ìˆ˜ì˜ ì–µì œ ë° ìº¡ìŠí™”ê¹Œì§€ êµ¬í˜„ ê°€ëŠ¥
  
> ìº¡ìŠí™”ë€? ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹°ì™€, í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë™ì‘ì¸ ë©”ì„œë“œë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒì„ ë§í•˜ë©° ê°ì²´ì˜ íŠ¹ì • í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ê°ì¶œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì •ë³´ ì€ë‹‰ì´ë¼ í•œë‹¤.

```javascript
var Module = (function () { 
  // ì€ë‹‰ë  ë©¤ë²„
  var privateKey = 0; 
  function privateMethod() { 
    return ++privateKey; 
  } 
  // ê³µê°œë  ë©¤ë²„ (íŠ¹ê¶Œ ë©”ì†Œë“œ) ì •ì˜ 
  return { 
    publickey : privateKey, 
    publicMethod : function () { 
      return privateMethod(); 
    } 
  } 
})(); 

console.log(Module.publicMethod()); // 1
console.log(Module.publicMethod()); // 2 (í´ë¡œì €ë¡œ ì¸í•œ ê²°ê³¼)
```

4ï¸âƒ£ ES6 ëª¨ë“ˆ ì‚¬ìš©
